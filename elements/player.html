
<dom-module id="fireworks-player">

<style>
#player {
	width: 160px;
	height: 72px;
	border-radius: 3px;
	border: 1px solid #AAA;
	background: white;
	will-change: transform;
	transform-origin: 0 0;
	
	transition: 0.4s;
	z-index: 2;
}



#name {
	position: relative;
	left: 10px;
	top: -13px;
	z-index: 3;
	background: white;
	padding: 1px 5px 0;
	border-radius: 3px;
	font-size: 0.8em;
}

#name.current {
	background: yellow;
}

.selected {
	left: 100px;
	top: 100px;
	transform: scale(2.0);
	
	transition: 0.4s;
}
.on-top {
	z-index: 5;
}
  .small-card {
//  	transform: scale(0.25);
//  	transform-origin: 0 0;
  }
  fireworks-card { position: absolute; top: 5px; }
  .card1 { left: 5px; }
  .card2 { left: 30px; }
  .card3 { left: 55px; }
  .card4 { left: 80px; }
  .card5 { left: 110px; }
  </style>
  
  <template>
	<div id="player"">
	<span id="name">{{name}}</span>
	<div id="cards"></div>
	</div>
  </template>

  <script>
    FireworksPlayer = Polymer({
      is: "fireworks-player",

      properties: {
      	name: {
      		type: String
      	},
      	number: {
      		type: Number
      	},
		numCards: {
			type: Number,
			value: 0
		}
      },
      
	  factoryImpl: function(name,number) {
		this.name = name;
		this.number = number;
	  },
	  
	  addCard: function(id, color, number, knowncolor, knownnumber, index) {
		var card = new FireworksCard(id, color, number, index);
		card.setKnownNumber(knownnumber);
		card.setKnownColor(knowncolor);
		if(this.number > 0 ) // not the local player
		{
			card.flip();
		}
		this.numCards++;
		card.classList.add("card" + this.numCards);
		Polymer.dom(this.root).appendChild(card)
		Polymer.dom(this.root).querySelector("#cards").appendChild(card)
        return card;
	  },
	  
	  getName: function() {
		return this.name;
	  },
	  
	  setCurrentPlayer: function() {
		this.$.name.classList.add("current");
	  }
      
    });
  </script>

</dom-module>
